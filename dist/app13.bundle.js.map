{"version":3,"sources":["webpack:///webpack/bootstrap 4d0b3e614eaa73f99527?d208**********","webpack:///./examples/ex13-capture-the-shader/app.js","webpack:///./examples/ex13-capture-the-shader/modules/lib.js","webpack:///./examples/ex13-capture-the-shader/modules/shader-types.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;;;;;;;;;;KChCQ,GAAG,uBAAO,CAAe,EAAzB,GAAG;;KACH,WAAW,uBAAO,CAAwB,EAA1C,WAAW;;AAEnB,KAAM,OAAO,GAAG,GAAG;KAAE,OAAO,GAAG,GAAG,CAAC;AACnC,KAAI,CAAC;KAAE,EAAE;KAAE,EAAE,aAAC;AACd,KAAI,WAAW,GAAG,EAAE,CAAC;AACrB,KAAI,MAAM;KAAE,MAAM;KAAE,SAAS,aAAC;AAC9B,KAAI,GAAG,aAAC;AACR,KAAI,IAAI,aAAC;AACT,KAAI,GAAG,GAAG,IAAI,GAAG,EAAE,CAAC;AACpB,KAAI,QAAQ,GAAG,CAAG,CAAC;;AAGnB,KAAI,QAAQ,GAAG,CACb,CAAC,CAAG,EAAG,CAAG,EAAE,CAAG,EACf,CAAG,EAAG,CAAG,EAAE,CAAG,EACd,CAAC,CAAG,EAAE,CAAC,CAAG,EAAE,CAAG,EACf,CAAG,EAAE,CAAC,CAAG,EAAE,CAAG,CACf,CAAC;;AAEF,KAAI,KAAK,GAAG,CACV,CAAC,EAAE,CAAC,EAAE,CAAC,EACP,CAAC,EAAE,CAAC,EAAE,CAAC,CACR,CAAC;;AAEF,KAAI,WAAW,GAAG,uBAAU;AAC1B,OAAI,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;;AAErD,OAAI,aAAa,GAAG,uBAAS,CAAC,EAAC;AAC7B,SAAI,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AACzB,SAAI,EAAE,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;AAC1B,cAAS,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IAEvB,CAAC;;AAEF,SAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,UAAS,UAAU,EAAE,CAAC,EAAC;AACtD,SAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC5C,SAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC5C,UAAK,CAAC,IAAI,GAAG,OAAO,CAAC;AACrB,UAAK,CAAC,IAAI,GAAG,IAAI,CAAC;AAClB,SAAG,CAAC,KAAK,CAAC,EAAC;AACT,YAAK,CAAC,OAAO,GAAG,SAAS,CAAC;MAC3B;AACD,UAAK,CAAC,EAAE,GAAG,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC;AACtC,UAAK,CAAC,KAAK,GAAG,KAAK,CAAC,WAAW,GAAG,UAAU,CAAC;;AAE7C,UAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,aAAa,EAAE,KAAK,CAAC,CAAC;;AAEvD,cAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC7B,cAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAC7B,cAAS,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;IACrD,CAAC,CAAC;EAGJ,CAAC;AACF,YAAW,EAAE,CAAC;;;;;;;;;AAUd,KAAI,SAAS,GAAG,mBAAS,EAAE,EAAE,EAAE,EAAE,EAAE,EAAC;AAClC,OAAI,GAAG,GAAG,GAAG,CAAC,aAAa,CACzB,GAAG,CAAC,YAAY,CAAC,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,EAClC,GAAG,CAAC,YAAY,CAAC,EAAE,EAAE,UAAU,EAAE,EAAE,CAAC,EACpC,EAAE,CAAC,CAAC;AACN,MAAG,GAAI,GAAG,IAAI,IAAK,CAAC;AACpB,OAAG,CAAC,GAAG,EAAC;AACN,OAAE,CAAC,OAAO,GAAG,KAAK,CAAC;IACpB;AACD,cAAW,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,kBAAkB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;AACpD,cAAW,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,kBAAkB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AACrD,cAAW,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,kBAAkB,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;;AAE1D,OAAI,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;AAC5C,OAAI,MAAM,GAAG,GAAG,CAAC,SAAS,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AACtC,OAAI,YAAY,GAAG,EAAE,CAAC,iBAAiB,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;;AAEzD,KAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;AAC1C,KAAE,CAAC,uBAAuB,CAAC,YAAY,CAAC,CAAC;AACzC,KAAE,CAAC,mBAAmB,CAAC,YAAY,EAAE,CAAC,EAAE,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAC/D,KAAE,CAAC,UAAU,CAAC,EAAE,CAAC,oBAAoB,EAAE,MAAM,CAAC,CAAC;EAChD,CAAC;;;;;AAKF,KAAI,IAAI,GAAG,gBAAU;;AAEnB,IAAC,GAAG,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;AACvC,IAAC,CAAC,KAAK,GAAG,OAAO,CAAC;AAClB,IAAC,CAAC,MAAM,GAAG,OAAO,CAAC;;AAEnB,KAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;;AAEvC,IAAC,CAAC,gBAAgB,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;AACjD,KAAE,CAAC,gBAAgB,CAAC,QAAQ,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;;;AAGjD,KAAE,GAAG,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;;AAEjE,OAAI,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3C,YAAS,CAAC,EAAE,EAAE,WAAW,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,CAAC;;;AAGzC,KAAE,CAAC,UAAU,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAG,CAAC,CAAC;AACzB,SAAM,GAAG,GAAG,CAAC;AACb,SAAM,GAAG,GAAG,CAAC;;;AAGb,YAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;AACjC,SAAM,EAAE,CAAC;EAEV,CAAC;;AAEF,KAAI,MAAM;;;;;;;;;;IAAG,YAAU;AACrB,OAAG,CAAC,GAAG,EAAC;AACN,YAAO;IACR;AACD,OAAI,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,SAAS,IAAI,KAAK,CAAC;;AAElD,KAAE,CAAC,KAAK,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC;;;AAG9B,KAAE,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,GAAG,QAAQ,CAAC,CAAC;AAC9C,KAAE,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;AAChD,KAAE,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,CAAC;;;AAGlD,KAAE,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;AACvD,KAAE,CAAC,KAAK,EAAE,CAAC;;;AAGX,aAAU,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;EAEzB,EAAC;;;;;AAKF,KAAI,SAAS,GAAG,mBAAS,CAAC,EAAC;AACzB,SAAM,GAAG,CAAC,CAAC,OAAO,GAAG,OAAO,CAAC;AAC7B,SAAM,GAAG,CAAC,CAAC,OAAO,GAAG,OAAO,CAAC;EAC9B,CAAC;;;;;AAKF,KAAI,WAAW,GAAG,qBAAS,CAAC,EAAC;AAC3B,MAAG,GAAG,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC;AAC9B,OAAG,GAAG,EAAC;AACL,cAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;AACjC,WAAM,EAAE,CAAC;IACV,MAAI;AACH,aAAQ,IAAI,IAAI,CAAC;IAClB;EACF,CAAC;;;;AAIF,KAAI,EAAE,8FAKL,CAAC;;AAEF,KAAI,EAAE,CAAC;;;;;;;;;;;;;;;;;ACjLA,KAAI,GAAG,GAAG;;;;;;;;AAQf,eAAY,wBAAC,UAAU,EAAE,IAAI,EAAE,EAAE,EAAC;;AAEhC,SAAI,MAAM,CAAC;;;AAIX,aAAO,IAAI;;;AAGT,YAAK,QAAQ;AACX,eAAM,GAAG,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;AAC3C,eAAM;;AAAA;AAGR,YAAK,UAAU;AACb,eAAM,GAAG,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;AAC7C,eAAM;AACR;AACE,gBAAO;AAAA,MACV;;;AAGD,OAAE,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;;;AAGpC,OAAE,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;;;AAGzB,SAAG,EAAE,CAAC,kBAAkB,CAAC,MAAM,EAAE,EAAE,CAAC,cAAc,CAAC,EAAC;;AAElD,cAAO,MAAM,CAAC;MACf,MAAI;;;AAGH,cAAO,CAAC,GAAG,CAAC,EAAE,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;MAC1C;IACF;;;AAGD,gBAAa,yBAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAC;;AAEvB,SAAI,OAAO,GAAG,EAAE,CAAC,aAAa,EAAE,CAAC;;;AAGjC,OAAE,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;AAC7B,OAAE,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;;;AAG7B,OAAE,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;;;AAGxB,SAAG,EAAE,CAAC,mBAAmB,CAAC,OAAO,EAAE,EAAE,CAAC,WAAW,CAAC,EAAC;;;AAGjD,SAAE,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;;;AAGvB,cAAO,OAAO,CAAC;MAChB,MAAI;;;AAGH,cAAO,IAAI,CAAC;MACb;IACF;;;AAGD,YAAS,qBAAC,IAAI,EAAE,EAAE,EAAC;;AAEjB,SAAI,GAAG,GAAG,EAAE,CAAC,YAAY,EAAE,CAAC;;;AAG5B,OAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;;;AAGpC,OAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,YAAY,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC;;;AAGvE,OAAE,CAAC,UAAU,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;;;AAGrC,YAAO,GAAG,CAAC;IACZ;;;AAGD,YAAS,qBAAC,IAAI,EAAE,EAAE,EAAC;;AAEjB,SAAI,GAAG,GAAG,EAAE,CAAC,YAAY,EAAE,CAAC;;;AAG5B,OAAE,CAAC,UAAU,CAAC,EAAE,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC;;;AAG5C,OAAE,CAAC,UAAU,CAAC,EAAE,CAAC,oBAAoB,EAAE,IAAI,UAAU,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC;;;AAG7E,OAAE,CAAC,UAAU,CAAC,EAAE,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;;;AAG7C,YAAO,GAAG,CAAC;IACZ;;EAEF,CAAC;SA7GS,GAAG,GAAH,GAAG;;;;;;;;;;;ACAP,KAAI,WAAW,GAAG;;;;;;AAMvB,iBAAc,syBA6Bb;AACD,0mBAmBC;AACD,kBAAe,oaAcd;;AAED,mBAAgB,m1CAmDf;EACF,CAAC;SA5HS,WAAW,GAAX,WAAW","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8090/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4d0b3e614eaa73f99527\n **/","/**\n * wgld.orgのGLSLをやってみる\n * http://wgld.org/d/glsl/g001.html\n */\n'use strict';\n//require('../app.styl');\nimport {Lib} from './modules/lib';\nimport {ShaderTypes} from './modules/shader-types';\n\nconst canvasW = 512, canvasH = 512;\nlet c, el, gl;\nlet uniLocation = [];\nlet mouseX, mouseY, startTime;\nlet run; //レンダリングをし続けるかどうか\nlet time;\nlet fps = 1000 / 30; // 30fps\nlet tempTime = 0.0;\n\n\nlet position = [\n  -1.0,  1.0, 0.0,\n  1.0,  1.0, 0.0,\n  -1.0, -1.0, 0.0,\n  1.0, -1.0, 0.0\n];\n\nlet index = [\n  0, 2, 1,\n  1, 2, 3\n];\n\nlet createRadio = function(){\n  let container = document.getElementById('container');\n\n  let onChangeRadio = function(e){\n    let key = e.target.value;\n    let fs = ShaderTypes[key];\n    createPrg(vs, fs, gl);\n\n  };\n\n  Object.keys(ShaderTypes).forEach(function(shaderType, i){\n    let input = document.createElement('input');\n    let label = document.createElement('label');\n    input.type = 'radio';\n    input.name = 'g1';\n    if(i === 0){\n      input.checked = 'checked';\n    }\n    input.id = label.htmlFor = shaderType;\n    input.value = label.textContent = shaderType;\n\n    input.addEventListener('change', onChangeRadio, false);\n\n    container.appendChild(input);\n    container.appendChild(label);\n    container.appendChild(document.createElement('br'));\n  });\n\n\n};\ncreateRadio();\n\n\n/**\n *\n * @param vs 頂点シェーダ\n * @param fs フラグメントシェーダ\n * @param gl webglオブジェクト\n * @returns {*}\n */\nlet createPrg = function(vs, fs, gl){\n  let prg = Lib.createProgram(\n    Lib.createShader(vs, 'vertex', gl),\n    Lib.createShader(fs, 'fragment', gl),\n    gl);\n  run = (prg != null);\n  if(!run){\n    el.checked = false;\n  }\n  uniLocation[0] = gl.getUniformLocation(prg, 'time');\n  uniLocation[1] = gl.getUniformLocation(prg, 'mouse');\n  uniLocation[2] = gl.getUniformLocation(prg, 'resolution');\n\n  let vPosition = Lib.createVbo(position, gl);\n  let vIndex = Lib.createIbo(index, gl);\n  let vAttLocation = gl.getAttribLocation(prg, 'position');\n\n  gl.bindBuffer(gl.ARRAY_BUFFER, vPosition);\n  gl.enableVertexAttribArray(vAttLocation);\n  gl.vertexAttribPointer(vAttLocation, 3, gl.FLOAT, false, 0, 0);\n  gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, vIndex);\n};\n\n/**\n * 初期化\n */\nlet init = function(){\n  // get canvas\n  c = document.getElementById('canvas1');\n  c.width = canvasW;\n  c.height = canvasH;\n  // get check\n  el = document.getElementById('check1');\n  // domイベント\n  c.addEventListener('mousemove', mouseMove, true);\n  el.addEventListener('change', checkChange, true);\n\n  // webGl context\n  gl = c.getContext('webgl') || c.getContext('experimental-webgl');\n\n  let firstKey = Object.keys(ShaderTypes)[0];\n  createPrg(vs, ShaderTypes[firstKey], gl);\n\n  //その他初期化\n  gl.clearColor(0,0,0,1.0);\n  mouseX = 0.5;\n  mouseY = 0.5;\n\n  //現在のタイムスタンプを設定\n  startTime = new Date().getTime();\n  render();\n\n};\n\nlet render = function(){\n  if(!run){\n    return;\n  }\n  time = (new Date().getTime() - startTime) * 0.001;\n  //カラーバッファーをクリア\n  gl.clear(gl.COLOR_BUFFER_BIT);\n\n  //uniform\n  gl.uniform1f(uniLocation[0], time + tempTime);\n  gl.uniform2fv(uniLocation[1], [mouseX, mouseY]);\n  gl.uniform2fv(uniLocation[2], [canvasW, canvasH]);\n\n  //描画\n  gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);\n  gl.flush();\n\n  //再帰\n  setTimeout(render, fps);\n\n};\n\n/**\n * mouse move イベント\n */\nlet mouseMove = function(e){\n  mouseX = e.offsetX / canvasW;\n  mouseY = e.offsetY / canvasH;\n};\n\n/**\n * チェックボックス\n */\nlet checkChange = function(e){\n  run = e.currentTarget.checked;\n  if(run){\n    startTime = new Date().getTime();\n    render();\n  }else{\n    tempTime += time;\n  }\n};\n\n// 頂点シェーダ\n// 入力されたposition情報をvec4に変換する\nlet vs = `\nattribute vec3 position;\nvoid main(void){\n    gl_Position = vec4(position, 1.0);\n}\n`;\n\ninit();\n\n\n/** WEBPACK FOOTER **\n ** ./examples/ex13-capture-the-shader/app.js\n **/","export let Lib = {\n\n  /**\n   * シェーダを生成する関数\n   * @param shaderText\n   * @param type vertex or fragment\n   * @returns {*}\n   */\n  createShader(shaderText, type, gl){\n    // シェーダを格納する変数\n    var shader;\n\n\n    // scriptタグのtype属性をチェック\n    switch(type){\n\n      // 頂点シェーダの場合\n      case 'vertex':\n        shader = gl.createShader(gl.VERTEX_SHADER);\n        break;\n\n      // フラグメントシェーダの場合\n      case 'fragment':\n        shader = gl.createShader(gl.FRAGMENT_SHADER);\n        break;\n      default :\n        return;\n    }\n\n    // 生成されたシェーダにソースを割り当てる\n    gl.shaderSource(shader, shaderText);\n\n    // シェーダをコンパイルする\n    gl.compileShader(shader);\n\n    // シェーダが正しくコンパイルされたかチェック\n    if(gl.getShaderParameter(shader, gl.COMPILE_STATUS)){\n      // 成功していたらシェーダを返して終了\n      return shader;\n    }else{\n\n      // 失敗していたらエラーログをアラートしコンソールに出力\n      console.log(gl.getShaderInfoLog(shader));\n    }\n  },\n\n  // プログラムオブジェクトを生成しシェーダをリンクする関数\n  createProgram(vs, fs, gl){\n    // プログラムオブジェクトの生成\n    var program = gl.createProgram();\n\n    // プログラムオブジェクトにシェーダを割り当てる\n    gl.attachShader(program, vs);\n    gl.attachShader(program, fs);\n\n    // シェーダをリンク\n    gl.linkProgram(program);\n\n    // シェーダのリンクが正しく行なわれたかチェック\n    if(gl.getProgramParameter(program, gl.LINK_STATUS)){\n\n      // 成功していたらプログラムオブジェクトを有効にする\n      gl.useProgram(program);\n\n      // プログラムオブジェクトを返して終了\n      return program;\n    }else{\n\n      // 失敗していたら NULL を返す\n      return null;\n    }\n  },\n\n  // VBOを生成する関数\n  createVbo(data, gl){\n    // バッファオブジェクトの生成\n    var vbo = gl.createBuffer();\n\n    // バッファをバインドする\n    gl.bindBuffer(gl.ARRAY_BUFFER, vbo);\n\n    // バッファにデータをセット\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), gl.STATIC_DRAW);\n\n    // バッファのバインドを無効化\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n\n    // 生成した VBO を返して終了\n    return vbo;\n  },\n\n  // IBOを生成する関数\n  createIbo(data, gl){\n    // バッファオブジェクトの生成\n    var ibo = gl.createBuffer();\n\n    // バッファをバインドする\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);\n\n    // バッファにデータをセット\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Int16Array(data), gl.STATIC_DRAW);\n\n    // バッファのバインドを無効化\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n\n    // 生成したIBOを返して終了\n    return ibo;\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** ./examples/ex13-capture-the-shader/modules/lib.js\n **/","export let ShaderTypes = {\n  // フラグメントシェーダ\n  // 3つのuniform変数を定義\n  //  time ... javascriptからミリsec単位で時間を送ってもらっている ex. 1.234\n  //  mouse ... javascriptからマウスカーソルの位置を0〜1で受け取る ex. [0.3, 0.1]\n  //  resolution ... javascript スクリーンの幅を受け取る ex. [512, 512]\n  gradationColor:`\n  precision mediump float;\n  uniform float time;\n  uniform vec2 mouse;\n  uniform vec2 resolution;\n  void main(void){\n    // 正規化\n    // gl_FragCoord の中身の範囲は、0 ～ スクリーンの横幅(もしくは縦幅)の最大値\n    // それを2倍して画面幅でわると -1〜1の間の値が返る\n    vec2 p = (gl_FragCoord.xy * 2.0 - resolution) / min(resolution.x, resolution.y);\n\n    // なので p.xy は(vec2で)[-1〜1, -1〜1)]となる\n    // 0~1の値にしたいので\n    // まず+1 をする。そうすると [0〜2, 0〜2]となる\n    // それを半分でわって [0〜1, 0〜1]の値をだす\n    vec2 color = (vec2(1.0) + p.xy) * 0.5;\n\n    // ポジションをrgbaに変換\n    // colorは[0(〜1), 0(〜1)]のvec2なのでそれをそれぞれred, greenに当てはめる\n    // [0, 0, 0, 1] から [1, 1, 0, 1]になる\n    // GLSLでは左下が0,0になる\n    // (0,1)  (1,1)\n    //   +-----+\n    //   |     |\n    //   |     |\n    //   +-----+\n    // (0.0)  (1,0)\n    gl_FragColor = vec4(color, p.x, 1.0);\n  }\n  `,\n  'ripple':`\n    precision mediump float;\n    uniform float time;\n    uniform vec2  mouse;\n    uniform vec2  resolution;\n\n    void main(void){\n        // 上述の通りの正規化\n        vec2 p = (gl_FragCoord.xy * 2.0 - resolution) / min(resolution.x, resolution.y);\n\n        // マウスのカーソルの位置を[0~1, 0~1]から[-1~1, -1~1]に変換\n        // ※ GLSLではy軸は上がプラスなので、正負が反転している\n        vec2 mouse = vec2(mouse.x * 2.0 - 1.0, -mouse.y * 2.0 + 1.0);\n\n        // length ... 2点間の距離を返す\n        // ベクトルと時間から正弦波を生成している\n        float t = sin(length(mouse - p) * 20.0 + time * 5.0);\n        gl_FragColor = vec4(vec2(t), 0.3, 1.0);\n    }\n  `,\n  'moving ripple':`\n    precision mediump float;\n    uniform float time;\n    uniform vec2 mouse;\n    uniform vec2 resolution;\n\n    void main(void){\n        vec2 p = (gl_FragCoord.xy * 2.0 - resolution) / min(resolution.x, resolution.y);\n        vec2 mouse = vec2(mouse.x * 2.0 - 1.0, -mouse.y * 2.0 + 1.0);\n\n        float t = 0.02 / abs(sin(time) - length(mouse - p));\n        gl_FragColor = vec4(vec3(t), 1.0);\n    }\n\n  `,\n\n  'Mandelbrot set':`\n    precision mediump float;\n    uniform float time;\n    uniform vec2 mouse;\n    uniform vec2 resolution;\n\n    //HSVカラーを生成\n    vec3 hsv(float h, float s, float v){\n      vec4 t = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n      vec3 p = abs(fract(vec3(h) + t.xyz) * 6.0 - vec3(t.w));\n      return v * mix(vec3(t.x), clamp(p - vec3(t.x), 0.0 , 1.0), s);\n    }\n\n    void main(void){\n      // マウス座標を正規化\n      vec2 m = vec2(mouse.x * 2.0 - 1.0, -mouse.y * 2.0 + 1.0);\n      // フラグメントを正規化\n      vec2 p = (gl_FragCoord.xy * 2.0 - resolution) / min(resolution.x, resolution.y);\n\n      // マンデルブロ集合を定義\n      // カウンタ\n      int j = 0;\n      // 原点（少しずらしている）\n      vec2 x = p + vec2(-0.5, 0.0);\n      // マウス座標を使って拡大度?を変更\n      float y = 1.5 - mouse.x * 0.5;\n      // 漸化式 Z の初期値\n      vec2 z = vec2(0.0, 0.0);\n\n      //漸化式の繰り返し処理\n      float fnum = float(100);\n      for(int i=0; i < 100; i++){\n        j++;\n        // 2を超えると確実に発散する\n        if(length(z) > 2.0){\n          break;\n        }\n        //Zn+1 = Zn^2 + C\n        z = vec2(z.x * z.x - z.y * z.y , 2.0 * z.x * z.y) + x * y;\n      }\n\n      //時間の経過とともにhsvを出力\n      float h = mod(time * 20.0, 360.0) / 360.0;\n      vec3 rgb = hsv(h, 1.0, 1.0);\n\n      // 繰り返した回数を元に輝度を決める\n      float t = float(j) / fnum;\n\n      //最終的な色を出力\n      gl_FragColor = vec4(rgb * t, 1.0);\n    }\n  `\n};\n\n\n/** WEBPACK FOOTER **\n ** ./examples/ex13-capture-the-shader/modules/shader-types.js\n **/"],"sourceRoot":"","file":"app13.bundle.js"}